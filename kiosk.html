<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>McDo Kiosk - Order System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  </head>
  <body class="bg-gradient-to-b from-red-50 to-white font-sans text-gray-800">
    <header class="bg-white shadow-md sticky top-0 z-50 mb-6">
      <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <a href="#" class="text-3xl font-bold text-mcd-red">Online Kiosk</a>
        <h2 class="text-xl font-semibold text-gray-700">Order System</h2>
      </div>
    </header>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <div class="mb-8">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-green-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Thank you for ordering!</h2>
        <p class="text-gray-600 mb-6">Your order is being made fresh and will be ready shortly.</p>
        <button onclick="closeConfirmation()" class="w-full bg-mcd-red text-white px-4 py-3 rounded-full hover:bg-red-700 transition">
          Return to Home
        </button>
      </div>
    </div>

    <!-- Order Summary Modal -->
    <div id="orderSummaryModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Order Summary</h2>
        <div id="orderSummaryContent" class="mb-6 space-y-3 max-h-[300px] overflow-y-auto">
          <!-- Order items will be dynamically inserted here -->
        </div>
        <div class="border-t border-gray-200 pt-4 mb-4">
          <div class="flex justify-between items-center">
            <span class="text-lg font-semibold">Total Amount:</span>
            <span id="orderSummaryTotal" class="text-2xl font-bold text-mcd-red">$0.00</span>
          </div>
        </div>
        <div class="flex space-x-4">
          <button onclick="closeOrderSummary()" class="w-full bg-mcd-red text-white px-4 py-3 rounded-full hover:bg-red-700 transition">
            Confirm Order
          </button>
        </div>
      </div>
    </div>

    <!-- Quantity Selection Modal -->
    <div id="quantityModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <h2 id="quantityModalTitle" class="text-2xl font-bold mb-4 text-center">Select Quantity</h2>
        <div class="flex items-center justify-center space-x-4 mb-6">
          <button onclick="decreaseQuantity()" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition">-</button>
          <span id="quantityDisplay" class="text-2xl font-bold">1</span>
          <button onclick="increaseQuantity()" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition">+</button>
        </div>
        <div class="flex space-x-4">
          <button onclick="cancelQuantitySelection()" class="w-1/2 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">
            Cancel
          </button>
          <button onclick="confirmQuantity()" class="w-1/2 px-4 py-2 bg-mcd-red text-white rounded-lg hover:bg-red-700 transition">
            Confirm
          </button>
        </div>
      </div>
    </div>

    <!-- Payment Method Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Select Payment Method</h2>
        <div class="grid grid-cols-2 gap-4">
          <button onclick="selectPaymentType('counter')" class="bg-gray-100 p-4 rounded-lg hover:bg-gray-200 transition flex flex-col items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18v18H3V3zm3 3h12v12H6V6zm3 3v6h6V9H9z" />
            </svg>
            Pay at Counter
          </button>
          <button onclick="selectPaymentType('online')" class="bg-gray-100 p-4 rounded-lg hover:bg-gray-200 transition flex flex-col items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
            </svg>
            Online Payment
          </button>
        </div>
        <div class="mt-6 text-center">
          <button onclick="closePaymentModal()" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Online Payment Methods Modal -->
    <div id="onlinePaymentModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Online Payment Methods</h2>
        <div class="grid grid-cols-1 gap-4">
          <div class="bg-gray-100 p-4 rounded-lg hover:bg-gray-200 transition flex items-center">
            <div class="w-20 h-12 mr-4 flex items-center justify-center">
              <svg xmlns="https://static.vecteezy.com/system/resources/thumbnails/000/357/048/small_2x/3__2821_29.jpg" class="h-12 w-16 text-blue-600" viewBox="0 0 64 40" fill="currentColor">
                <path d="M60.5 3.5C58.2 1.2 55.2 0 52 0H12C5.4 0 0 5.4 0 12v16c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V12c0-3.2-1.2-6.2-3.5-8.5zM12 4h40c1.9 0 3.7.7 5.1 2L32 22 6.9 6c1.4-1.3 3.2-2 5.1-2zm-8 24V12c0-.8.1-1.5.4-2.2L20.3 24l-15.9 9.2c-.3-.7-.4-1.4-.4-2.2zm52 4H12c-1.9 0-3.7-.7-5.1-2L32 18l15.1 12c-1.4 1.3-3.2 2-5.1 2zm8-6c0 .8-.1 1.5-.4 2.2L43.7 16l15.9-9.2c.3.7.4 1.4.4 2.2v16z"/>
              </svg>
            </div>
            <div class="flex-grow">
              <h3 class="font-bold">Credit Card</h3>
              <p class="text-sm text-gray-600">Pay with Visa, Mastercard, etc.</p>
            </div>
            <input type="radio" name="onlinePayment" value="creditCard" class="form-radio">
          </div>

          <div class="bg-gray-100 p-4 rounded-lg hover:bg-gray-200 transition flex items-center">
            <div class="w-20 h-12 mr-4 flex items-center justify-center">
              <img 
              src="https://play-lh.googleusercontent.com/fdQjxsIO8BTLaw796rQPZtLEnGEV8OJZJBJvl8dFfZLZcGf613W93z7y9dFAdDhvfqw" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            </div>
            <div class="flex-grow">
              <h3 class="font-bold">Paymaya</h3>
              <p class="text-sm text-gray-600">Pay using Paymaya</p>
            </div>
            <input type="radio" name="onlinePayment" value="paymaya" class="form-radio">
          </div>

          <div class="bg-gray-100 p-4 rounded-lg hover:bg-gray-200 transition flex items-center">
            <div class="w-20 h-12 mr-4 flex items-center justify-center">
              <img 
              src="
              https://images.seeklogo.com/logo-png/52/1/gcash-logo-png_seeklogo-522261.png" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            </div>
            <div class="flex-grow">
              <h3 class="font-bold">Gcash</h3>
              <p class="text-sm text-gray-600">Pay using Gcash</p>
            </div>
            <input type="radio" name="onlinePayment" value="gcash" class="form-radio">
          </div>
        </div>
        <div class="mt-6 flex space-x-4">
          <button onclick="closeOnlinePaymentModal()" class="w-1/2 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition">
            Cancel
          </button>
          <button onclick="confirmOnlinePayment()" class="w-1/2 bg-mcd-red text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">
            Confirm Payment
          </button>
        </div>
      </div>
    </div>

    <!-- Language Selector -->
    <div id="languageSelector" class="fixed bottom-4 right-4 z-50">
      <div x-data="{ open: false }" class="relative">
        <button 
          @click="open = !open" 
          class="bg-mcd-red text-white px-4 py-2 rounded-full hover:bg-red-700 transition flex items-center"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.607.676.948.97a1 1 0 11-1.4 1.44 9.984 9.984 0 01-1.198-1.276 9.984 9.984 0 01-1.198 1.276 1 1 0 01-1.4-1.44c.341-.294.658-.616.948-.97A18.871 18.871 0 014.422 6H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 5a1 1 0 01.707.293l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L14.586 11H10a1 1 0 110-2h4.586l-2.293-2.293A1 1 0 0113 5z" clip-rule="evenodd" />
          </svg>
          Language
        </button>
        <div 
          x-show="open" 
          @click.away="open = false"
          class="absolute bottom-full mb-2 right-0 bg-white rounded-lg shadow-lg"
        >
          <button onclick="changeLanguage('en')" class="block w-full text-left px-4 py-2 hover:bg-gray-100">English</button>
          <button onclick="changeLanguage('es')" class="block w-full text-left px-4 py-2 hover:bg-gray-100">Spanish</button>
          <button onclick="changeLanguage('fr')" class="block w-full text-left px-4 py-2 hover:bg-gray-100">French</button>
        </div>
      </div>
    </div>

    <!-- Order History Modal -->
    <div id="orderHistoryModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Order History</h2>
        <div id="orderHistoryContent" class="space-y-4 max-h-[400px] overflow-y-auto">
          <!-- Previous orders will be dynamically inserted here -->
        </div>
        <div class="mt-6 text-center">
          <button onclick="closeOrderHistory()" class="bg-mcd-red text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">
            Close
          </button>
        </div>
      </div>
    </div>

    <div class="flex flex-col lg:flex-row min-h-[calc(100vh-80px)] max-w-7xl mx-auto px-6 gap-6">
      <!-- Category Menu Panel -->
      <section class="w-full lg:w-1/4 bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-2xl font-bold mb-6">Categories</h2>
        <div x-data="{ activeCategory: 'Budget Meal' }" class="space-y-4">
          <div 
            @click="activeCategory = 'Budget Meal'"
            :class="activeCategory === 'Budget Meal' ? 'bg-mcd-red text-white scale-105' : 'bg-white text-gray-800'"
            class="flex items-center space-x-4 px-4 py-4 rounded-xl cursor-pointer transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-md hover:bg-gray-50 border border-transparent hover:border-gray-100"
          >
            <img 
              src="https://media.istockphoto.com/id/520134277/photo/take-out-food-classic-cheeseburger-meal-isolated-on-white.jpg?s=612x612&w=0&k=20&c=-e-sj-hieOBQclUBRu8E7wRfIxqe4mB_CKnkJwyr-es=" 
              alt="Budget Meal" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            <span class="font-semibold">Budget Meal</span>
          </div>
          <div 
            @click="activeCategory = 'Family Meal'"
            :class="activeCategory === 'Family Meal' ? 'bg-mcd-red text-white scale-105' : 'bg-white text-gray-800'"
            class="flex items-center space-x-4 px-4 py-4 rounded-xl cursor-pointer transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-md hover:bg-gray-50 border border-transparent hover:border-gray-100"
          >
            <img 
              src="https://d3486jq6shjn6l.cloudfront.net/uploads/menu_items/c8e99f5e-fa4c-11ed-b8f6-0a7a45ee0361/medium_bol.jpg" 
              alt="Family Meal" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            <span class="font-semibold">Family Meal</span>
          </div>
          <div 
            @click="activeCategory = 'Drinks'"
            :class="activeCategory === 'Drinks' ? 'bg-mcd-red text-white scale-105' : 'bg-white text-gray-800'"
            class="flex items-center space-x-4 px-4 py-4 rounded-xl cursor-pointer transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-md hover:bg-gray-50 border border-transparent hover:border-gray-100"
          >
            <img 
              src="data:image/jpeg;base64,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" 
              alt="Drinks" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            <span class="font-semibold">Drinks</span>
          </div>
          <div 
            @click="activeCategory = 'Desserts'"
            :class="activeCategory === 'Desserts' ? 'bg-mcd-red text-white scale-105' : 'bg-white text-gray-800'"
            class="flex items-center space-x-4 px-4 py-4 rounded-xl cursor-pointer transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-md hover:bg-gray-50 border border-transparent hover:border-gray-100"
          >
            <img 
              src="https://www.southernliving.com/thmb/B74rDMrcDg4M0aXrcopZzDHi0do=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Hot-Fudge_step6_-074-f46b36d441984931b6f9d0b055c8f56b.jpg" 
              alt="Desserts" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            <span class="font-semibold">Desserts</span>
          </div>
          <div 
            @click="activeCategory = 'Fries and Burgers'"
            :class="activeCategory === 'Fries and Burgers' ? 'bg-mcd-red text-white scale-105' : 'bg-white text-gray-800'"
            class="flex items-center space-x-4 px-4 py-4 rounded-xl cursor-pointer transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-md hover:bg-gray-50 border border-transparent hover:border-gray-100"
          >
            <img 
              src="https://static01.nyt.com/images/2022/06/27/dining/kc-mushroom-beef-burgers/merlin_209008674_b3fa58fa-9bb1-4cfe-a08a-40b4dda0de78-jumbo.jpg" 
              alt="Fries and Burgers" 
              class="w-16 h-16 object-cover rounded-lg"
            >
            <span class="font-semibold">Fries and Burgers</span>
          </div>
        </div>
      </section>

      <!-- Menu Panel -->
      <section class="w-full lg:w-2/3">
        <div class="bg-white rounded-xl shadow-lg p-6">
          <h2 id="categoryTitle" class="text-2xl font-bold mb-6">Budget Meal</h2>
          <div id="menu" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        </div>
      </section>

      <!-- Order Summary Panel -->
      <section class="w-full lg:w-1/3 sticky top-[100px] h-fit">
        <div class="bg-white rounded-xl shadow-lg p-6">
          <h2 class="text-2xl font-bold mb-4">Order Summary</h2>
          <div class="border-b border-gray-200 mb-4"></div>
          <ul id="cart" class="space-y-3 max-h-[400px] overflow-y-auto mb-4"></ul>
          <div class="border-t border-gray-200 pt-4">
            <div class="flex justify-between items-center mb-6">
              <span class="text-lg font-semibold">Total Amount:</span>
              <span class="text-2xl font-bold text-mcd-red">$<span id="total">0.00</span></span>
            </div>
            <div class="flex gap-4">
              <button onclick="clearCart()" class="w-1/2 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">
                Clear Cart
              </button>
              <button onclick="checkout()" class="w-1/2 px-4 py-2 bg-mcd-red text-white rounded-lg hover:bg-red-700 transition">
                Checkout
              </button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      // Custom Tailwind config for McDonald's colors
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'mcd-red': '#DA291C',
              'mcd-yellow': '#FFC72C'
            }
          }
        }
      }

      let cart = [];
      const menuDiv = document.getElementById("menu");
      const categoryTitle = document.getElementById("categoryTitle");
      const cartList = document.getElementById("cart");
      const totalEl = document.getElementById("total");
      const confirmationModal = document.getElementById("confirmationModal");
      const orderSummaryModal = document.getElementById("orderSummaryModal");
      const orderSummaryContent = document.getElementById("orderSummaryContent");
      const orderSummaryTotal = document.getElementById("orderSummaryTotal");
      const quantityModal = document.getElementById("quantityModal");
      const quantityDisplay = document.getElementById("quantityDisplay");
      const quantityModalTitle = document.getElementById("quantityModalTitle");

      // Tracking variables for quantity selection
      let currentItemIndex = null;
      let currentQuantity = 1;

      const menuItems = [
        // Budget Meal
        { name: "Classic Smash Burger Meal", price: 5.50, description: "Signature burger, crispy fries, and refreshing drink", category: "Budget Meal" },
        { name: "Chicken Nuggets Meal Classic", price: 5.20, description: "Traditional 6-piece nuggets with golden fries and soft drink", category: "Budget Meal" },
        { name: "Chicken Nuggets Meal Deluxe", price: 5.20, description: "Gourmet 6-piece nuggets with seasoned fries and premium drink", category: "Budget Meal" },
        { name: "Chicken Nuggets Meal Premium", price: 5.20, description: "Extra crispy 6-piece nuggets with loaded fries and specialty drink", category: "Budget Meal" },
        { name: "Chicken Nuggets Meal Supreme", price: 5.20, description: "Ultimate 6-piece nuggets with chef's special fries and craft drink", category: "Budget Meal" },
        
        // Family Meal
        { name: "Family Feast Combo Standard", price: 24.99, description: "Classic family combo with 4 burgers, 2 large fries, and 4 drinks", category: "Family Meal" },
        { name: "Family Feast Combo Deluxe", price: 29.99, description: "Upgraded family feast with 6 gourmet burgers, 3 large seasoned fries, and 6 premium drinks", category: "Family Meal" },
        { name: "Family Feast Combo Premium", price: 29.99, description: "Luxury family spread with 6 artisan burgers, 3 loaded fries, and 6 specialty drinks", category: "Family Meal" },
        { name: "Family Feast Combo Supreme", price: 29.99, description: "Ultimate family banquet with 6 chef's selection burgers, 3 chef-crafted fries, and 6 craft drinks", category: "Family Meal" },
        { name: "Family Feast Combo Ultimate", price: 29.99, description: "Mega family celebration with 6 premium burgers, 3 gourmet fries, and 6 exclusive drinks", category: "Family Meal" },
        
        // Drinks
        { name: "Coca-Cola Classic", price: 1.50, description: "Original Coca-Cola, the timeless refreshment", category: "Drinks" },
        { name: "Sprite Original", price: 1.50, description: "Crisp and zesty lemon-lime soda", category: "Drinks" },
        { name: "Iced Tea Classic", price: 1.80, description: "Traditional freshly brewed iced tea", category: "Drinks" },
        { name: "Iced Tea Lemon", price: 1.80, description: "Refreshing iced tea with a bright citrus twist", category: "Drinks" },
        { name: "Iced Tea Peach", price: 1.80, description: "Smooth iced tea infused with sweet peach flavor", category: "Drinks" },
        
        // Desserts
        { name: "Apple Pie Classic", price: 1.00, description: "Warm, golden apple pie with a flaky crust", category: "Desserts" },
        { name: "McFlurry Original", price: 2.50, description: "Creamy soft serve blended with classic mix-ins", category: "Desserts" },
        { name: "McFlurry Chocolate", price: 2.50, description: "Rich chocolate soft serve with decadent chocolate pieces", category: "Desserts" },
        { name: "McFlurry Caramel", price: 2.50, description: "Smooth soft serve swirled with golden caramel chunks", category: "Desserts" },
        { name: "McFlurry Oreo", price: 2.50, description: "Creamy soft serve packed with classic Oreo cookie pieces", category: "Desserts" },
        
        // Fries and Burgers
        { name: "Classic Smash Burger", price: 3.80, description: "Double smashed beef patties with melted cheddar cheese", category: "Fries and Burgers" },
        { name: "Loaded Street Fries", price: 2.20, description: "Crispy fries topped with rich cheese sauce and crisp bacon bits", category: "Fries and Burgers" },
        { name: "Spicy Chicken Burger Classic", price: 4.10, description: "Traditional crispy spicy chicken patty with classic seasonings", category: "Fries and Burgers" },
        { name: "Spicy Chicken Burger Deluxe", price: 4.10, description: "Gourmet spicy chicken patty with premium herb blend", category: "Fries and Burgers" },
        { name: "Spicy Chicken Burger Premium", price: 4.10, description: "Ultimate spicy chicken patty with chef's special spice mix", category: "Fries and Burgers" },
      ];

      // Function to render menu items based on category
      function renderMenuItems(category) {
        // Clear existing menu items
        menuDiv.innerHTML = "";
        categoryTitle.textContent = category;

        // Filter and render items for the selected category
        const categoryItems = menuItems.filter(item => item.category === category);

        categoryItems.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "bg-white border border-gray-200 p-4 rounded-lg hover:shadow-md transition cursor-pointer";
          div.innerHTML = `
            <div class="flex justify-between items-start mb-2">
              <h3 class="font-bold text-lg">${item.name}</h3>
              <span class="text-mcd-red font-bold">$${item.price.toFixed(2)}</span>
            </div>
            <p class="text-sm text-gray-600 mb-3">${item.description}</p>
            <button 
              onclick="showQuantityModal(${menuItems.indexOf(item)})" 
              class="w-full px-4 py-2 bg-red-100 text-mcd-red rounded hover:bg-red-200 transition text-sm font-semibold"
            >
              Add to Order
            </button>
          `;
          menuDiv.appendChild(div);
        });
      }

      // Initial render of Budget Meal category
      renderMenuItems("Budget Meal");

      // Event listener for category changes (using Alpine.js)
      document.querySelectorAll('[x-data="{ activeCategory: \'Budget Meal\' }"] div').forEach(el => {
        el.addEventListener('click', () => {
          const category = el.textContent.trim();
          renderMenuItems(category);
        });
      });

      function showQuantityModal(index) {
        currentItemIndex = index;
        currentQuantity = 1;
        quantityDisplay.textContent = currentQuantity;
        quantityModalTitle.textContent = `How many ${menuItems[index].name}?`;
        quantityModal.classList.remove("hidden");
      }

      function increaseQuantity() {
        currentQuantity++;
        quantityDisplay.textContent = currentQuantity;
      }

      function decreaseQuantity() {
        if (currentQuantity > 1) {
          currentQuantity--;
          quantityDisplay.textContent = currentQuantity;
        }
      }

      function cancelQuantitySelection() {
        quantityModal.classList.add("hidden");
        currentItemIndex = null;
        currentQuantity = 1;
      }

      function confirmQuantity() {
        if (currentItemIndex !== null) {
          const item = menuItems[currentItemIndex];
          for (let i = 0; i < currentQuantity; i++) {
            cart.push(item);
          }
          renderCart();
          quantityModal.classList.add("hidden");
          currentItemIndex = null;
          currentQuantity = 1;
        }
      }

      function renderCart() {
        cartList.innerHTML = "";
        let total = 0;
        
        // Group cart items and count quantities
        const cartItemCounts = {};
        cart.forEach(item => {
          if (cartItemCounts[item.name]) {
            cartItemCounts[item.name].quantity++;
          } else {
            cartItemCounts[item.name] = { ...item, quantity: 1 };
          }
        });

        // Render grouped cart items
        Object.values(cartItemCounts).forEach((item, index) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          const li = document.createElement("li");
          li.className = "flex justify-between items-start pb-3";
          li.innerHTML = `
            <div>
              <h4 class="font-semibold">${item.name} x ${item.quantity}</h4>
              <p class="text-sm text-gray-600">$${itemTotal.toFixed(2)}</p>
            </div>
            <button 
              onclick="removeItemFromCart('${item.name}')" 
              class="text-mcd-red hover:text-red-700"
            >
              ✕
            </button>
          `;
          cartList.appendChild(li);
        });
        
        totalEl.textContent = total.toFixed(2);
      }

      function removeItemFromCart(itemName) {
        // Remove all instances of the item from the cart
        cart = cart.filter(item => item.name !== itemName);
        renderCart();
      }

      function clearCart() {
        cart.length = 0;
        renderCart();
      }

      function checkout() {
        if (cart.length === 0) {
          alert("Please add items to your cart before checking out.");
          return;
        }
        
        // Show order summary modal
        showOrderSummary();
      }

      function closeOrderSummary() {
        // Hide order summary modal
        orderSummaryModal.classList.add('hidden');
        
        // Show payment method modal
        document.getElementById('paymentModal').classList.remove('hidden');
      }

      function showOrderSummary() {
        // Clear previous order summary
        orderSummaryContent.innerHTML = "";
        
        // Group cart items and count quantities
        const cartItemCounts = {};
        cart.forEach(item => {
          if (cartItemCounts[item.name]) {
            cartItemCounts[item.name].quantity++;
          } else {
            cartItemCounts[item.name] = { ...item, quantity: 1 };
          }
        });

        // Populate order summary modal
        let total = 0;
        Object.values(cartItemCounts).forEach(item => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          
          const itemDiv = document.createElement("div");
          itemDiv.className = "flex justify-between items-center mb-2";
          itemDiv.innerHTML = `
            <div>
              <span class="font-semibold">${item.name}</span>
              <span class="text-gray-600 ml-2">x${item.quantity}</span>
            </div>
            <span class="font-bold">$${itemTotal.toFixed(2)}</span>
          `;
          orderSummaryContent.appendChild(itemDiv);
        });

        // Update total in order summary modal
        orderSummaryTotal.textContent = `$${total.toFixed(2)}`;

        // Show order summary modal
        orderSummaryModal.classList.remove('hidden');
      }

      function confirmOrder() {
        // Hide order summary modal
        orderSummaryModal.classList.add('hidden');
        
        // Show payment method modal
        document.getElementById('paymentModal').classList.remove('hidden');
      }

      function selectPaymentType(type) {
        if (type === 'counter') {
          // Directly show confirmation for counter payment
          closePaymentModal();
          showConfirmation();
        } else if (type === 'online') {
          // Open online payment methods
          closePaymentModal();
          openOnlinePaymentModal();
        }
      }

      function showConfirmation() {
        // Ensure all modals are closed
        orderSummaryModal.classList.add('hidden');
        document.getElementById('paymentModal').classList.add('hidden');
        document.getElementById('onlinePaymentModal').classList.add('hidden');
        
        // Show confirmation modal
        confirmationModal.classList.remove('hidden');
      }

      function confirmOnlinePayment() {
        const selectedMethod = document.querySelector('input[name="onlinePayment"]:checked');
        if (selectedMethod) {
          console.log(`Online payment method selected: ${selectedMethod.value}`);
          closeOnlinePaymentModal();
          showConfirmation();
        } else {
          alert('Please select a payment method');
        }
      }

      function closePaymentModal() {
        document.getElementById('paymentModal').classList.add('hidden');
      }

      function openOnlinePaymentModal() {
        document.getElementById('onlinePaymentModal').classList.remove('hidden');
      }

      function closeOnlinePaymentModal() {
        document.getElementById('onlinePaymentModal').classList.add('hidden');
      }

      function closeConfirmation() {
        // Redirect to index.html when returning home
        window.location.href = 'index.html';
      }

      // Allow custom logo uploads
      function uploadPaymentLogo(type) {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*';
        input.onchange = (e) => {
          const file = e.target.files[0];
          const reader = new FileReader();
          reader.onload = (event) => {
            if (type === 'paymaya') {
              document.getElementById('paymayaLogo').src = event.target.result;
            } else if (type === 'gcash') {
              document.getElementById('gcashLogo').src = event.target.result;
            }
          };
          reader.readAsDataURL(file);
        };
        input.click();
      }

      // Initialize with placeholder images (you can replace these)
      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('paymayaLogo').src = 'https://via.placeholder.com/100x50?text=Paymaya';
        document.getElementById('gcashLogo').src = 'https://via.placeholder.com/100x50?text=Gcash';
      });

      // Language Support
      function changeLanguage(lang) {
        const translations = {
          'en': {
            categoryTitle: 'Budget Meal',
            clearCart: 'Clear Cart',
            checkout: 'Checkout'
          },
          'es': {
            categoryTitle: 'Menú Económico',
            clearCart: 'Limpiar Carrito',
            checkout: 'Pagar'
          },
          'fr': {
            categoryTitle: 'Menu Économique',
            clearCart: 'Vider le Panier',
            checkout: 'Payer'
          }
        };

        const t = translations[lang];
        categoryTitle.textContent = t.categoryTitle;
        document.querySelector('button[onclick="clearCart()"]').textContent = t.clearCart;
        document.querySelector('button[onclick="checkout()"]').textContent = t.checkout;
      }

      // Order History
      function saveOrderToHistory(order) {
        let orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');
        orderHistory.push(order);
        localStorage.setItem('orderHistory', JSON.stringify(orderHistory));
      }

      function showOrderHistory() {
        const orderHistoryModal = document.getElementById('orderHistoryModal');
        const orderHistoryContent = document.getElementById('orderHistoryContent');
        const orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');

        orderHistoryContent.innerHTML = orderHistory.length ? 
          orderHistory.map((order, index) => `
            <div class="bg-gray-100 p-4 rounded-lg">
              <h3 class="font-bold">Order #${index + 1}</h3>
              <p>${order.items.map(item => `${item.name} x${item.quantity}`).join(', ')}</p>
              <p class="text-mcd-red">Total: $${order.total.toFixed(2)}</p>
            </div>
          `).join('') : 
          '<p class="text-center text-gray-500">No previous orders</p>';

        orderHistoryModal.classList.remove('hidden');
      }

      function closeOrderHistory() {
        document.getElementById('orderHistoryModal').classList.add('hidden');
      }

      // Modify existing checkout function to save order history
      function checkout() {
        if (cart.length === 0) return;

        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        const order = { 
          items: cart, 
          total: total, 
          date: new Date().toLocaleString() 
        };

        saveOrderToHistory(order);
        showOrderSummary();
      }

      // Update the confirmation modal button to redirect to index.html
      document.addEventListener('DOMContentLoaded', () => {
        const returnHomeButton = document.querySelector('#confirmationModal button');
        if (returnHomeButton) {
          returnHomeButton.setAttribute('onclick', 'closeConfirmation()');
        }
      });
    </script>
  </body>
</html>